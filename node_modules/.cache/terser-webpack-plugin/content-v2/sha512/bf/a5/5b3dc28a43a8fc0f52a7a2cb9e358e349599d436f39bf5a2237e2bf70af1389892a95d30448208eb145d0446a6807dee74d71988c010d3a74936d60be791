{"code":"(this.webpackJsonpresearch=this.webpackJsonpresearch||[]).push([[0],{50:function(e,t,a){},52:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){\"use strict\";a.r(t);var n=a(2),i=a(1),r=a.n(i),o=a(40),c=a.n(o),s=(a(50),a(42)),l=(a(51),a(52),a(5)),d=a(6),u=a(9),h=a(8),j=a(12),f=a(3),b=(a(77),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;Object(l.a)(this,a),n=t.call(this,e);var i=e.feature,r=e.data;return n.state={selectedDataPoint:[],dataPoints:r.reduce((function(e,t){var a=t[i],n=e.findIndex((function(e){return e.x>a})),r=n<0?e.length:n;return[].concat(Object(j.a)(e.slice(0,r)),[{x:a,y:a*Math.random()}],Object(j.a)(e.slice(r)))}),[])},n}return Object(d.a)(a,[{key:\"render\",value:function(){var e=this.props.feature,t=this.state,a=t.dataPoints,i=t.selectedDataPoint;return Object(n.jsxs)(\"div\",{className:\"global-explanation\",children:[e,Object(n.jsxs)(f.a,{height:200,children:[Object(n.jsx)(f.c,{}),Object(n.jsx)(f.d,{color:\"blue\",data:a}),Object(n.jsx)(f.e,{color:\"orange\",data:i}),Object(n.jsx)(f.h,{}),Object(n.jsx)(f.i,{})]})]})}},{key:\"componentDidUpdate\",value:function(e){var t=this.props.selectedRowIndex;if(e.selectedRowIndex!==t){var a=this.props,n=a.feature,i=a.data,r=this.state.dataPoints;this.setState({selectedDataPoint:[r.find((function(e){return e.x===i[t][n]}))]})}}}]),a}(i.Component)),p=(a(78),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:\"render\",value:function(){var e=this.props,t=e.features,a=e.selectedRowIndex,i=e.data;return Object(n.jsx)(\"section\",{id:\"global-explanations\",children:t.map((function(e,t){return Object(n.jsx)(b,{feature:e,selectedRowIndex:a,data:i},\"chart-\".concat(t))}))})}}]),a}(i.Component)),v=a(15),O=a(4),x=(a(79),\"#bf212f\"),g=\"#006f3c\",m=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={dimensions:{width:0,height:0},displayMode:\"resquarify\"},n.resetTooltipData=n.resetTooltipData.bind(Object(O.a)(n)),n.updateTooltipData=n.updateTooltipData.bind(Object(O.a)(n)),n.updateSize=n.updateSize.bind(Object(O.a)(n)),n.getPositiveChildren=n.getPositiveChildren.bind(Object(O.a)(n)),n.getNegativeChildren=n.getNegativeChildren.bind(Object(O.a)(n)),n.getChildren=n.getChildren.bind(Object(O.a)(n)),n.getDataForWaterfall=n.getDataForWaterfall.bind(Object(O.a)(n)),n}return Object(d.a)(a,[{key:\"render\",value:function(){var e=this,t=this.props.selectedRowIndex,a=this.state,i=a.data,r=a.dimensions,o=a.displayMode,c=a.tooltipData;return Object(n.jsx)(\"section\",{id:\"treemap-container\",ref:this.updateSize,onMouseLeave:this.resetTooltipData,children:void 0===t?\"Select a row in the table below\":Object(n.jsxs)(n.Fragment,{children:[\"waterfall\"===o?Object(n.jsxs)(f.b,{xType:\"ordinal\",children:[Object(n.jsx)(f.c,{}),Object(n.jsx)(f.g,{data:i,colorType:\"literal\",onValueMouseOver:function(t){return e.updateTooltipData({title:t.x,size:t.y-t.y0,color:t.color})}}),Object(n.jsx)(f.h,{title:\"Feature\",tickLabelAngle:270}),Object(n.jsx)(f.i,{title:\"Contribution\"})]}):Object(n.jsx)(f.f,Object(v.a)({title:\"Test\",data:i,mode:o,hideRootNode:!0,colorType:\"literal\",onLeafMouseOver:function(t){var a=t.data;return e.updateTooltipData(a)},onLeafClick:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return console.log(\"klikk\",[t])},padding:1,margin:0},r)),Object(n.jsx)(w,{data:c})]})})}},{key:\"resetTooltipData\",value:function(){this.setState({tooltipData:void 0})}},{key:\"updateTooltipData\",value:function(e){this.setState({tooltipData:e})}},{key:\"updateSize\",value:function(e){if(null!==e){var t=e.clientWidth,a=e.clientHeight;this.setState({dimensions:{width:t,height:a}})}}},{key:\"componentDidUpdate\",value:function(e){var t;this.props.selectedRowIndex!==e.selectedRowIndex&&(t=\"waterfall\"===this.state.displayMode?this.getDataForWaterfall():{children:[{title:\"Negative\",children:this.getPositiveChildren(),color:\"none\"},{title:\"Positive\",children:this.getNegativeChildren(),color:\"none\"}]},this.setState({data:t}))}},{key:\"getDataForWaterfall\",value:function(){var e=this.props.selectedRowIndex;if(void 0===e)return[];var t=[],a=this.props.data[e];return this.props.features.forEach((function(e){var n=a[e],i={x:e,y:n,color:n<0?x:g},r=t.findIndex((function(e){return e.y>n}));-1===r?t.push(i):t.splice(r,0,i)})),t.reduce((function(e,t,a){return[].concat(Object(j.a)(e),[a>0?Object(v.a)(Object(v.a)({},t),{},{y:e[a-1].y+t.y,y0:e[a-1].y}):Object(v.a)(Object(v.a)({},t),{},{y0:0})])}),[])}},{key:\"getPositiveChildren\",value:function(){return this.getChildren(!0)}},{key:\"getNegativeChildren\",value:function(){return this.getChildren(!1)}},{key:\"getChildren\",value:function(e){var t=this.props.selectedRowIndex;if(void 0===t)return[];var a=[],n=this.props.data[t],i=e?g:x;return this.props.features.forEach((function(t){var r=n[t];(!e&&r<0||e)&&a.push({title:t,size:Math.abs(r),color:i})})),a}},{key:\"componentDidMount\",value:function(){var e;switch(new URLSearchParams(window.location.search).get(\"v\")){case\"b\":e=\"circlePack\";break;case\"t\":e=\"resquarify\";break;default:e=\"waterfall\"}this.setState({displayMode:e})}}]),a}(i.Component),y=(a(80),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;Object(l.a)(this,a),n=t.call(this,e);var i=e.features;return n.state={columns:[\"ID\",\"Actual\",\"Predicted\",\"Difference\"].concat(Object(j.a)(i))},n}return Object(d.a)(a,[{key:\"render\",value:function(){var e=this.props,t=e.data,a=e.selectedRowIndex,i=e.setSelectedRowIndex,r=this.state.columns;return Object(n.jsx)(\"section\",{children:Object(n.jsxs)(\"table\",{children:[Object(n.jsx)(\"thead\",{children:Object(n.jsx)(\"tr\",{children:r.map((function(e,t){return Object(n.jsx)(\"th\",{children:e},\"feature-\".concat(t))}))})}),Object(n.jsx)(\"tbody\",{children:t.map((function(e,t){return Object(n.jsx)(\"tr\",{className:t===a?\"selected\":\"\",onClick:function(){return i(t)},children:r.map((function(t,a){return Object(n.jsx)(\"td\",{children:e[t]},\"feature-\".concat(a))}))},\"row-\".concat(t))}))})]})})}}]),a}(i.Component)),w=(a(81),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={position:{left:0,top:0}},n.updatePosition=n.updatePosition.bind(Object(O.a)(n)),n}return Object(d.a)(a,[{key:\"componentDidMount\",value:function(){window.addEventListener(\"mousemove\",this.updatePosition)}},{key:\"componentWillUnmount\",value:function(){window.removeEventListener(\"mousemove\",this.updatePosition)}},{key:\"render\",value:function(){var e=this.state.position,t=e.left,a=e.top,i=this.props.data;return i&&i.size?Object(n.jsxs)(\"div\",{id:\"tooltip\",style:{left:t,top:a,background:i.color},children:[i.title,Object(n.jsx)(\"br\",{}),i.size]}):Object(n.jsx)(n.Fragment,{})}},{key:\"updatePosition\",value:function(e){var t=e.clientX,a=e.clientY;this.setState({position:{left:t,top:a}})}}]),a}(i.PureComponent)),S=[\"LotArea\",\"YearBuilt\",\"GrLivArea\",\"KitchenAbvGr\",\"FirstFlrSF\",\"PoolArea\",\"TotalBsmtSF\",\"BsmtFinSFOne\",\"BsmtUnfSF\",\"GarageYrBlt\",\"EnclosedPorch\",\"WoodDeckSF\",\"MSSubClass\",\"MiscVal\",\"OpenPorchSF\",\"ThreeSsnPorch\",\"YearRemodAdd\",\"YrSold\",\"GarageArea\",\"LowQualFinSF\",\"BsmtFinSFTwo\",\"OverallCond\",\"MoSold\",\"SecondFlrSF\",\"TotRmsAbvGrd\",\"ScreenPorch\",\"Fireplaces\",\"OverallQual\",\"HalfBath\",\"MasVnrArea\",\"GarageCars\",\"LotFrontage\",\"BsmtFullBath\",\"FullBath\",\"BedroomAbvGr\",\"BsmtHalfBath\"],k=new Array(S.length).fill(1).map((function(){var e={};return S.forEach((function(t){return e[t]=1e3*Math.random()-500})),e}));var F=function(){var e=Object(i.useState)(),t=Object(s.a)(e,2),a=t[0],r=t[1];return Object(n.jsxs)(\"main\",{children:[Object(n.jsx)(p,{data:k,features:S,selectedRowIndex:a}),Object(n.jsx)(m,{data:k,features:S,selectedRowIndex:a}),Object(n.jsx)(y,{features:S,setSelectedRowIndex:r,selectedRowIndex:a,data:k})]})},C=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,84)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),i(e),r(e),o(e)}))};c.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(F,{})}),document.getElementById(\"root\")),C()}},[[82,1,2]]]);","name":"static/js/main.4aea5273.chunk.js","map":{"version":3,"sources":["static/js/main.4aea5273.chunk.js"],"names":["this","push","50","module","exports","__webpack_require__","52","77","78","79","80","81","82","__webpack_exports__","r","jsx_runtime","react","react_default","n","react_dom","react_dom_default","slicedToArray","classCallCheck","createClass","inherits","createSuper","toConsumableArray","es","GlobalExplanation_GlobalExplanation","_Component","Object","GlobalExplanation","_super","props","_this","call","feature","data","state","selectedDataPoint","dataPoints","reduce","previousRows","currentRow","currentX","firstBiggerElementIndex","findIndex","previousRow","x","insertionIndex","length","concat","slice","y","Math","random","key","value","_this$state","className","children","height","color","prevProps","selectedRowIndex","_this$props","setState","find","dataPoint","GlobalExplanations_GlobalExplanations_GlobalExplanations","GlobalExplanations","apply","arguments","features","id","map","index","objectSpread2","assertThisInitialized","COLORS","LocalExplanation_LocalExplanation_LocalExplanation","LocalExplanation","dimensions","width","displayMode","resetTooltipData","bind","updateTooltipData","updateSize","getPositiveChildren","getNegativeChildren","getChildren","getDataForWaterfall","_this2","tooltipData","ref","onMouseLeave","undefined","xType","colorType","onValueMouseOver","title","size","y0","tickLabelAngle","mode","hideRootNode","onLeafMouseOver","_ref","onLeafClick","_len","args","Array","_key","console","log","padding","margin","Tooltip_Tooltip_Tooltip","containerElement","clientWidth","clientHeight","selectedRow","forEach","newChild","insertIndex","_ref2","splice","collector","child","returnPositiveChilren","abs","URLSearchParams","window","location","search","get","Table_Table_Table","Table","columns","setSelectedRowIndex","column","row","onClick","_PureComponent","Tooltip","position","left","top","updatePosition","addEventListener","removeEventListener","_this$state$position","style","background","event","clientX","clientY","App_features","App_data","fill","src_App","_useState","_useState2","src_reportWebVitals","onPerfEntry","Function","e","then","getCLS","getFID","getFCP","getLCP","getTTFB","a","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpresearch\"] = this[\"webpackJsonpresearch\"] || []).push([[0],{\n\n/***/ 50:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 52:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 77:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 78:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 79:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 80:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 81:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 82:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(40);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(50);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(42);\n\n// EXTERNAL MODULE: ./node_modules/react-vis/dist/style.css\nvar style = __webpack_require__(51);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(52);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/inherits.js + 1 modules\nvar inherits = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createSuper.js + 4 modules\nvar createSuper = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/react-vis/es/index.js + 308 modules\nvar es = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./src/components/GlobalExplanations/GlobalExplanation.css\nvar GlobalExplanations_GlobalExplanation = __webpack_require__(77);\n\n// CONCATENATED MODULE: ./src/components/GlobalExplanations/GlobalExplanation.js\nvar GlobalExplanation_GlobalExplanation=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(GlobalExplanation,_Component);var _super=Object(createSuper[\"a\" /* default */])(GlobalExplanation);function GlobalExplanation(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,GlobalExplanation);_this=_super.call(this,props);var feature=props.feature,data=props.data;_this.state={selectedDataPoint:[],dataPoints:data.reduce(function(previousRows,currentRow){var currentX=currentRow[feature];var firstBiggerElementIndex=previousRows.findIndex(function(previousRow){return previousRow.x>currentX;});var insertionIndex=firstBiggerElementIndex<0?previousRows.length:firstBiggerElementIndex;return[].concat(Object(toConsumableArray[\"a\" /* default */])(previousRows.slice(0,insertionIndex)),[{x:currentX,y:currentX*Math.random()}],Object(toConsumableArray[\"a\" /* default */])(previousRows.slice(insertionIndex)));},[])};return _this;}Object(createClass[\"a\" /* default */])(GlobalExplanation,[{key:\"render\",value:function render(){var feature=this.props.feature;var _this$state=this.state,dataPoints=_this$state.dataPoints,selectedDataPoint=_this$state.selectedDataPoint;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"global-explanation\",children:[feature,/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(es[\"a\" /* FlexibleWidthXYPlot */],{height:200,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"c\" /* HorizontalGridLines */],{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"d\" /* LineSeries */],{color:\"blue\",data:dataPoints}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"e\" /* MarkSeries */],{color:\"orange\",data:selectedDataPoint}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"h\" /* XAxis */],{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"i\" /* YAxis */],{})]})]});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){var selectedRowIndex=this.props.selectedRowIndex;if(prevProps.selectedRowIndex!==selectedRowIndex){var _this$props=this.props,feature=_this$props.feature,data=_this$props.data;var dataPoints=this.state.dataPoints;this.setState({selectedDataPoint:[dataPoints.find(function(dataPoint){return dataPoint.x===data[selectedRowIndex][feature];})]});}}}]);return GlobalExplanation;}(react[\"Component\"]);\n// EXTERNAL MODULE: ./src/components/GlobalExplanations/GlobalExplanations.css\nvar GlobalExplanations_GlobalExplanations = __webpack_require__(78);\n\n// CONCATENATED MODULE: ./src/components/GlobalExplanations/GlobalExplanations.js\nvar GlobalExplanations_GlobalExplanations_GlobalExplanations=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(GlobalExplanations,_Component);var _super=Object(createSuper[\"a\" /* default */])(GlobalExplanations);function GlobalExplanations(){Object(classCallCheck[\"a\" /* default */])(this,GlobalExplanations);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(GlobalExplanations,[{key:\"render\",value:function render(){var _this$props=this.props,features=_this$props.features,selectedRowIndex=_this$props.selectedRowIndex,data=_this$props.data;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"section\",{id:\"global-explanations\",children:features.map(function(feature,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GlobalExplanation_GlobalExplanation,{feature:feature,selectedRowIndex:selectedRowIndex,data:data},\"chart-\".concat(index));})});}}]);return GlobalExplanations;}(react[\"Component\"]);\n// CONCATENATED MODULE: ./src/components/GlobalExplanations/index.js\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\nvar assertThisInitialized = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./src/components/LocalExplanation/LocalExplanation.css\nvar LocalExplanation_LocalExplanation = __webpack_require__(79);\n\n// CONCATENATED MODULE: ./src/components/LocalExplanation/LocalExplanation.js\nvar COLORS={red:\"#bf212f\",green:\"#006f3c\"};var LocalExplanation_LocalExplanation_LocalExplanation=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(LocalExplanation,_Component);var _super=Object(createSuper[\"a\" /* default */])(LocalExplanation);function LocalExplanation(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,LocalExplanation);_this=_super.call(this,props);_this.state={dimensions:{width:0,height:0},displayMode:\"resquarify\"};_this.resetTooltipData=_this.resetTooltipData.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.updateTooltipData=_this.updateTooltipData.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.updateSize=_this.updateSize.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.getPositiveChildren=_this.getPositiveChildren.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.getNegativeChildren=_this.getNegativeChildren.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.getChildren=_this.getChildren.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.getDataForWaterfall=_this.getDataForWaterfall.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));return _this;}Object(createClass[\"a\" /* default */])(LocalExplanation,[{key:\"render\",value:function render(){var _this2=this;var selectedRowIndex=this.props.selectedRowIndex;var _this$state=this.state,data=_this$state.data,dimensions=_this$state.dimensions,displayMode=_this$state.displayMode,tooltipData=_this$state.tooltipData;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"section\",{id:\"treemap-container\",ref:this.updateSize,onMouseLeave:this.resetTooltipData,children:selectedRowIndex===undefined?\"Select a row in the table below\":/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[displayMode===\"waterfall\"?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(es[\"b\" /* FlexibleXYPlot */],{xType:\"ordinal\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"c\" /* HorizontalGridLines */],{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"g\" /* VerticalBarSeries */],{data:data,colorType:\"literal\",onValueMouseOver:function onValueMouseOver(data){return _this2.updateTooltipData({title:data.x,size:data.y-data.y0,color:data.color});}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"h\" /* XAxis */],{title:\"Feature\",tickLabelAngle:270}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"i\" /* YAxis */],{title:\"Contribution\"})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"f\" /* Treemap */],Object(objectSpread2[\"a\" /* default */])({title:\"Test\",data:data,mode:displayMode,hideRootNode:true,colorType:\"literal\",onLeafMouseOver:function onLeafMouseOver(_ref){var data=_ref.data;return _this2.updateTooltipData(data);},onLeafClick:function onLeafClick(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return console.log(\"klikk\",[args]);},padding:1,margin:0},dimensions)),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tooltip_Tooltip_Tooltip,{data:tooltipData})]})});}},{key:\"resetTooltipData\",value:function resetTooltipData(){this.setState({tooltipData:undefined});}},{key:\"updateTooltipData\",value:function updateTooltipData(data){this.setState({tooltipData:data});}},{key:\"updateSize\",value:function updateSize(containerElement){if(containerElement!==null){var width=containerElement.clientWidth,height=containerElement.clientHeight;this.setState({dimensions:{width:width,height:height}});}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){var selectedRowIndex=this.props.selectedRowIndex;if(selectedRowIndex!==prevProps.selectedRowIndex){var data;if(this.state.displayMode===\"waterfall\"){data=this.getDataForWaterfall();}else{data={children:[{title:\"Negative\",children:this.getPositiveChildren(),color:\"none\"},{title:\"Positive\",children:this.getNegativeChildren(),color:\"none\"}]};}this.setState({data:data});}}},{key:\"getDataForWaterfall\",value:function getDataForWaterfall(){var selectedRowIndex=this.props.selectedRowIndex;if(selectedRowIndex===undefined)return[];var children=[];var selectedRow=this.props.data[selectedRowIndex];this.props.features.forEach(function(feature){var value=selectedRow[feature];var newChild={x:feature,y:value,color:value<0?COLORS.red:COLORS.green};var insertIndex=children.findIndex(function(_ref2){var y=_ref2.y;return y>value;});if(insertIndex===-1){children.push(newChild);}else{children.splice(insertIndex,0,newChild);}});return children.reduce(function(collector,child,index){return[].concat(Object(toConsumableArray[\"a\" /* default */])(collector),[index>0?Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},child),{},{y:collector[index-1].y+child.y,y0:collector[index-1].y}):Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},child),{},{y0:0})]);},[]);}},{key:\"getPositiveChildren\",value:function getPositiveChildren(){return this.getChildren(true);}},{key:\"getNegativeChildren\",value:function getNegativeChildren(){return this.getChildren(false);}},{key:\"getChildren\",value:function getChildren(returnPositiveChilren){var selectedRowIndex=this.props.selectedRowIndex;if(selectedRowIndex===undefined)return[];var children=[];var selectedRow=this.props.data[selectedRowIndex];var color=returnPositiveChilren?COLORS.green:COLORS.red;this.props.features.forEach(function(feature){var value=selectedRow[feature];if(!returnPositiveChilren&&value<0||returnPositiveChilren)children.push({title:feature,size:Math.abs(value),color:color});});return children;}},{key:\"componentDidMount\",value:function componentDidMount(){var searchParams=new URLSearchParams(window.location.search);var displayMode;switch(searchParams.get(\"v\")){case\"b\":displayMode=\"circlePack\";break;case\"t\":displayMode=\"resquarify\";break;default:displayMode=\"waterfall\";break;}this.setState({displayMode:displayMode});}}]);return LocalExplanation;}(react[\"Component\"]);\n// CONCATENATED MODULE: ./src/components/LocalExplanation/index.js\n\n// EXTERNAL MODULE: ./src/components/Table/Table.css\nvar Table_Table = __webpack_require__(80);\n\n// CONCATENATED MODULE: ./src/components/Table/Table.js\nvar Table_Table_Table=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(Table,_Component);var _super=Object(createSuper[\"a\" /* default */])(Table);function Table(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,Table);_this=_super.call(this,props);var features=props.features;_this.state={columns:[\"ID\",\"Actual\",\"Predicted\",\"Difference\"].concat(Object(toConsumableArray[\"a\" /* default */])(features))};return _this;}Object(createClass[\"a\" /* default */])(Table,[{key:\"render\",value:function render(){var _this$props=this.props,data=_this$props.data,selectedRowIndex=_this$props.selectedRowIndex,setSelectedRowIndex=_this$props.setSelectedRowIndex;var columns=this.state.columns;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"section\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"table\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"thead\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tr\",{children:columns.map(function(column,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:column},\"feature-\".concat(index));})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tbody\",{children:data.map(function(row,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tr\",{className:index===selectedRowIndex?\"selected\":\"\",onClick:function onClick(){return setSelectedRowIndex(index);},children:columns.map(function(column,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:row[column]},\"feature-\".concat(index));})},\"row-\".concat(index));})})]})});}}]);return Table;}(react[\"Component\"]);\n// CONCATENATED MODULE: ./src/components/Table/index.js\n\n// EXTERNAL MODULE: ./src/components/Tooltip/Tooltip.css\nvar Tooltip_Tooltip = __webpack_require__(81);\n\n// CONCATENATED MODULE: ./src/components/Tooltip/Tooltip.js\nvar Tooltip_Tooltip_Tooltip=/*#__PURE__*/function(_PureComponent){Object(inherits[\"a\" /* default */])(Tooltip,_PureComponent);var _super=Object(createSuper[\"a\" /* default */])(Tooltip);function Tooltip(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,Tooltip);_this=_super.call(this,props);_this.state={position:{left:0,top:0}};_this.updatePosition=_this.updatePosition.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));return _this;}Object(createClass[\"a\" /* default */])(Tooltip,[{key:\"componentDidMount\",value:function componentDidMount(){window.addEventListener(\"mousemove\",this.updatePosition);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){window.removeEventListener(\"mousemove\",this.updatePosition);}},{key:\"render\",value:function render(){var _this$state$position=this.state.position,left=_this$state$position.left,top=_this$state$position.top;var data=this.props.data;return data&&data.size?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"tooltip\",style:{left:left,top:top,background:data.color},children:[data.title,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),data.size]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{});}},{key:\"updatePosition\",value:function updatePosition(event){var left=event.clientX,top=event.clientY;this.setState({position:{left:left,top:top}});}}]);return Tooltip;}(react[\"PureComponent\"]);\n// CONCATENATED MODULE: ./src/components/Tooltip/index.js\n\n// CONCATENATED MODULE: ./src/components/index.js\n\n// CONCATENATED MODULE: ./src/App.js\nvar App_features=[\"LotArea\",\"YearBuilt\",\"GrLivArea\",\"KitchenAbvGr\",\"FirstFlrSF\",\"PoolArea\",\"TotalBsmtSF\",\"BsmtFinSFOne\",\"BsmtUnfSF\",\"GarageYrBlt\",\"EnclosedPorch\",\"WoodDeckSF\",\"MSSubClass\",\"MiscVal\",\"OpenPorchSF\",\"ThreeSsnPorch\",\"YearRemodAdd\",\"YrSold\",\"GarageArea\",\"LowQualFinSF\",\"BsmtFinSFTwo\",\"OverallCond\",\"MoSold\",\"SecondFlrSF\",\"TotRmsAbvGrd\",\"ScreenPorch\",\"Fireplaces\",\"OverallQual\",\"HalfBath\",\"MasVnrArea\",\"GarageCars\",\"LotFrontage\",\"BsmtFullBath\",\"FullBath\",\"BedroomAbvGr\",\"BsmtHalfBath\"];var App_data=new Array(App_features.length).fill(1).map(function(){var row={};App_features.forEach(function(feature){return row[feature]=Math.random()*1000-500;});return row;});function App_App(){var _useState=Object(react[\"useState\"])(),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),selectedRowIndex=_useState2[0],setSelectedRowIndex=_useState2[1];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"main\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GlobalExplanations_GlobalExplanations_GlobalExplanations,{data:App_data,features:App_features,selectedRowIndex:selectedRowIndex}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LocalExplanation_LocalExplanation_LocalExplanation,{data:App_data,features:App_features,selectedRowIndex:selectedRowIndex}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Table_Table_Table,{features:App_features,setSelectedRowIndex:setSelectedRowIndex,selectedRowIndex:selectedRowIndex,data:App_data})]});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 84)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById(\"root\"));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[82,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/tomlaczik/research/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/tomlaczik/research/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/tomlaczik/research/node_modules/postcss-loader/src/index.js??postcss!/Users/tomlaczik/research/src/index.css","/Users/tomlaczik/research/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/tomlaczik/research/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/tomlaczik/research/node_modules/postcss-loader/src/index.js??postcss!/Users/tomlaczik/research/src/App.css","/Users/tomlaczik/research/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/tomlaczik/research/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/tomlaczik/research/node_modules/postcss-loader/src/index.js??postcss!/Users/tomlaczik/research/src/components/GlobalExplanations/GlobalExplanation.css","/Users/tomlaczik/research/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/tomlaczik/research/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/tomlaczik/research/node_modules/postcss-loader/src/index.js??postcss!/Users/tomlaczik/research/src/components/GlobalExplanations/GlobalExplanations.css","/Users/tomlaczik/research/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/tomlaczik/research/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/tomlaczik/research/node_modules/postcss-loader/src/index.js??postcss!/Users/tomlaczik/research/src/components/LocalExplanation/LocalExplanation.css","/Users/tomlaczik/research/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/tomlaczik/research/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/tomlaczik/research/node_modules/postcss-loader/src/index.js??postcss!/Users/tomlaczik/research/src/components/Table/Table.css","/Users/tomlaczik/research/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/tomlaczik/research/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/tomlaczik/research/node_modules/postcss-loader/src/index.js??postcss!/Users/tomlaczik/research/src/components/Tooltip/Tooltip.css","/Users/tomlaczik/research/src/components/GlobalExplanations/GlobalExplanation.js","/Users/tomlaczik/research/src/components/GlobalExplanations/GlobalExplanations.js","/Users/tomlaczik/research/src/components/LocalExplanation/LocalExplanation.js","/Users/tomlaczik/research/src/components/Table/Table.js","/Users/tomlaczik/research/src/components/Tooltip/Tooltip.js","/Users/tomlaczik/research/src/App.js","/Users/tomlaczik/research/src/reportWebVitals.js","/Users/tomlaczik/research/src/index.js"],"names":["GlobalExplanation","props","feature","data","state","selectedDataPoint","dataPoints","reduce","previousRows","currentRow","currentX","firstBiggerElementIndex","findIndex","previousRow","x","insertionIndex","length","slice","y","Math","random","prevProps","selectedRowIndex","setState","find","dataPoint","Component","GlobalExplanations","features","map","index","COLORS","red","green","LocalExplanation","dimensions","width","height","displayMode","resetTooltipData","bind","updateTooltipData","updateSize","getPositiveChildren","getNegativeChildren","getChildren","getDataForWaterfall","tooltipData","undefined","title","size","y0","color","args","console","log","containerElement","clientWidth","clientHeight","children","selectedRow","forEach","value","newChild","insertIndex","push","splice","collector","child","returnPositiveChilren","abs","searchParams","URLSearchParams","window","location","search","get","Table","columns","setSelectedRowIndex","column","row","Tooltip","position","left","top","updatePosition","addEventListener","removeEventListener","background","event","clientX","clientY","PureComponent","Array","fill","App","useState","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React, { Component } from \"react\";\nimport {\n  FlexibleWidthXYPlot,\n  HorizontalGridLines,\n  LineSeries,\n  MarkSeries,\n  XAxis,\n  YAxis,\n} from \"react-vis\";\n\nimport \"./GlobalExplanation.css\";\n\nexport class GlobalExplanation extends Component {\n  constructor(props) {\n    super(props);\n\n    const { feature, data } = props;\n    this.state = {\n      selectedDataPoint: [],\n      dataPoints: data.reduce((previousRows, currentRow) => {\n        const currentX = currentRow[feature];\n\n        const firstBiggerElementIndex = previousRows.findIndex(\n          (previousRow) => previousRow.x > currentX\n        );\n\n        const insertionIndex =\n          firstBiggerElementIndex < 0\n            ? previousRows.length\n            : firstBiggerElementIndex;\n\n        return [\n          ...previousRows.slice(0, insertionIndex),\n          {\n            x: currentX,\n            y: currentX * Math.random(),\n          },\n          ...previousRows.slice(insertionIndex),\n        ];\n      }, []),\n    };\n  }\n\n  render() {\n    const { feature } = this.props;\n    const { dataPoints, selectedDataPoint } = this.state;\n    return (\n      <div className=\"global-explanation\">\n        {feature}\n\n        <FlexibleWidthXYPlot height={200}>\n          <HorizontalGridLines />\n          <LineSeries color=\"blue\" data={dataPoints} />\n          <MarkSeries color=\"orange\" data={selectedDataPoint} />\n          <XAxis />\n          <YAxis />\n        </FlexibleWidthXYPlot>\n      </div>\n    );\n  }\n\n  componentDidUpdate(prevProps) {\n    const { selectedRowIndex } = this.props;\n    if (prevProps.selectedRowIndex !== selectedRowIndex) {\n      const { feature, data } = this.props;\n      const { dataPoints } = this.state;\n      this.setState({\n        selectedDataPoint: [\n          dataPoints.find(\n            (dataPoint) => dataPoint.x === data[selectedRowIndex][feature]\n          ),\n        ],\n      });\n    }\n  }\n}\n","import React, { Component } from \"react\";\nimport { GlobalExplanation } from \"./GlobalExplanation\";\n\nimport \"./GlobalExplanations.css\";\n\nexport class GlobalExplanations extends Component {\n  render() {\n    const { features, selectedRowIndex, data } = this.props;\n    return (\n      <section id=\"global-explanations\">\n        {features.map((feature, index) => (\n          <GlobalExplanation\n            feature={feature}\n            key={`chart-${index}`}\n            selectedRowIndex={selectedRowIndex}\n            data={data}\n          />\n        ))}\n      </section>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport {\n  FlexibleXYPlot,\n  HorizontalGridLines,\n  Treemap,\n  VerticalBarSeries,\n  XAxis,\n  YAxis,\n} from \"react-vis\";\nimport { Tooltip } from \"..\";\n\nimport \"./LocalExplanation.css\";\n\nconst COLORS = {\n  red: \"#bf212f\",\n  green: \"#006f3c\",\n};\n\nexport class LocalExplanation extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      dimensions: { width: 0, height: 0 },\n      displayMode: \"resquarify\",\n    };\n\n    this.resetTooltipData = this.resetTooltipData.bind(this);\n    this.updateTooltipData = this.updateTooltipData.bind(this);\n    this.updateSize = this.updateSize.bind(this);\n\n    this.getPositiveChildren = this.getPositiveChildren.bind(this);\n    this.getNegativeChildren = this.getNegativeChildren.bind(this);\n    this.getChildren = this.getChildren.bind(this);\n\n    this.getDataForWaterfall = this.getDataForWaterfall.bind(this);\n  }\n\n  render() {\n    const { selectedRowIndex } = this.props;\n    const { data, dimensions, displayMode, tooltipData } = this.state;\n\n    return (\n      <section\n        id=\"treemap-container\"\n        ref={this.updateSize}\n        onMouseLeave={this.resetTooltipData}\n      >\n        {selectedRowIndex === undefined ? (\n          \"Select a row in the table below\"\n        ) : (\n          <>\n            {displayMode === \"waterfall\" ? (\n              <FlexibleXYPlot xType=\"ordinal\">\n                <HorizontalGridLines />\n                <VerticalBarSeries\n                  data={data}\n                  colorType=\"literal\"\n                  onValueMouseOver={(data) =>\n                    this.updateTooltipData({\n                      title: data.x,\n                      size: data.y - data.y0,\n                      color: data.color,\n                    })\n                  }\n                />\n                <XAxis title=\"Feature\" tickLabelAngle={270} />\n                <YAxis title=\"Contribution\" />\n              </FlexibleXYPlot>\n            ) : (\n              <Treemap\n                title={\"Test\"}\n                data={data}\n                mode={displayMode}\n                hideRootNode\n                colorType=\"literal\"\n                onLeafMouseOver={({ data }) => this.updateTooltipData(data)}\n                onLeafClick={(...args) => console.log(\"klikk\", [args])}\n                padding={1}\n                margin={0}\n                {...dimensions}\n              />\n            )}\n            <Tooltip data={tooltipData} />\n          </>\n        )}\n      </section>\n    );\n  }\n\n  resetTooltipData() {\n    this.setState({ tooltipData: undefined });\n  }\n\n  updateTooltipData(data) {\n    this.setState({ tooltipData: data });\n  }\n\n  updateSize(containerElement) {\n    if (containerElement !== null) {\n      const { clientWidth: width, clientHeight: height } = containerElement;\n      this.setState({ dimensions: { width, height } });\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const { selectedRowIndex } = this.props;\n    if (selectedRowIndex !== prevProps.selectedRowIndex) {\n      let data;\n      if (this.state.displayMode === \"waterfall\") {\n        data = this.getDataForWaterfall();\n      } else {\n        data = {\n          children: [\n            {\n              title: \"Negative\",\n              children: this.getPositiveChildren(),\n              color: \"none\",\n            },\n            {\n              title: \"Positive\",\n              children: this.getNegativeChildren(),\n              color: \"none\",\n            },\n          ],\n        };\n      }\n      this.setState({\n        data,\n      });\n    }\n  }\n\n  getDataForWaterfall() {\n    const { selectedRowIndex } = this.props;\n\n    if (selectedRowIndex === undefined) return [];\n\n    const children = [];\n\n    const selectedRow = this.props.data[selectedRowIndex];\n\n    this.props.features.forEach((feature) => {\n      const value = selectedRow[feature];\n      const newChild = {\n        x: feature,\n        y: value,\n        color: value < 0 ? COLORS.red : COLORS.green,\n      };\n\n      const insertIndex = children.findIndex(({ y }) => y > value);\n\n      if (insertIndex === -1) {\n        children.push(newChild);\n      } else {\n        children.splice(insertIndex, 0, newChild);\n      }\n    });\n\n    return children.reduce(\n      (collector, child, index) => [\n        ...collector,\n        index > 0\n          ? {\n              ...child,\n              y: collector[index - 1].y + child.y,\n              y0: collector[index - 1].y,\n            }\n          : { ...child, y0: 0 },\n      ],\n      []\n    );\n  }\n\n  getPositiveChildren() {\n    return this.getChildren(true);\n  }\n\n  getNegativeChildren() {\n    return this.getChildren(false);\n  }\n\n  getChildren(returnPositiveChilren) {\n    const { selectedRowIndex } = this.props;\n\n    if (selectedRowIndex === undefined) return [];\n\n    const children = [];\n\n    const selectedRow = this.props.data[selectedRowIndex];\n    const color = returnPositiveChilren ? COLORS.green : COLORS.red;\n    this.props.features.forEach((feature) => {\n      const value = selectedRow[feature];\n      if ((!returnPositiveChilren && value < 0) || returnPositiveChilren)\n        children.push({ title: feature, size: Math.abs(value), color });\n    });\n    return children;\n  }\n\n  componentDidMount() {\n    const searchParams = new URLSearchParams(window.location.search);\n\n    let displayMode;\n    switch (searchParams.get(\"v\")) {\n      case \"b\":\n        displayMode = \"circlePack\";\n        break;\n      case \"t\":\n        displayMode = \"resquarify\";\n        break;\n      default:\n        displayMode = \"waterfall\";\n        break;\n    }\n    this.setState({ displayMode });\n  }\n}\n","import React, { Component } from \"react\";\n\nimport \"./Table.css\";\n\nexport class Table extends Component {\n  constructor(props) {\n    super(props);\n\n    const { features } = props;\n    this.state = {\n      columns: [\"ID\", \"Actual\", \"Predicted\", \"Difference\", ...features],\n    };\n  }\n\n  render() {\n    const { data, selectedRowIndex, setSelectedRowIndex } = this.props;\n    const { columns } = this.state;\n    return (\n      <section>\n        <table>\n          <thead>\n            <tr>\n              {columns.map((column, index) => (\n                <th key={`feature-${index}`}>{column}</th>\n              ))}\n            </tr>\n          </thead>\n          <tbody>\n            {data.map((row, index) => (\n              <tr\n                key={`row-${index}`}\n                className={index === selectedRowIndex ? \"selected\" : \"\"}\n                onClick={() => setSelectedRowIndex(index)}\n              >\n                {columns.map((column, index) => (\n                  <td key={`feature-${index}`}>{row[column]}</td>\n                ))}\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </section>\n    );\n  }\n}\n","import React, { PureComponent } from \"react\";\n\nimport \"./Tooltip.css\";\n\nexport class Tooltip extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      position: { left: 0, top: 0 },\n    };\n\n    this.updatePosition = this.updatePosition.bind(this);\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"mousemove\", this.updatePosition);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"mousemove\", this.updatePosition);\n  }\n\n  render() {\n    const { left, top } = this.state.position;\n    const { data } = this.props;\n    return data && data.size ? (\n      <div id=\"tooltip\" style={{ left, top, background: data.color }}>\n        {data.title}\n        <br />\n        {data.size}\n      </div>\n    ) : (\n      <></>\n    );\n  }\n\n  updatePosition(event) {\n    const { clientX: left, clientY: top } = event;\n    this.setState({ position: { left, top } });\n  }\n}\n","import React, { useState } from \"react\";\n\nimport \"react-vis/dist/style.css\";\n\nimport \"./App.css\";\nimport { GlobalExplanations, LocalExplanation, Table } from \"./components\";\n\nconst features = [\n  \"LotArea\",\n  \"YearBuilt\",\n  \"GrLivArea\",\n  \"KitchenAbvGr\",\n  \"FirstFlrSF\",\n  \"PoolArea\",\n  \"TotalBsmtSF\",\n  \"BsmtFinSFOne\",\n  \"BsmtUnfSF\",\n  \"GarageYrBlt\",\n  \"EnclosedPorch\",\n  \"WoodDeckSF\",\n  \"MSSubClass\",\n  \"MiscVal\",\n  \"OpenPorchSF\",\n  \"ThreeSsnPorch\",\n  \"YearRemodAdd\",\n  \"YrSold\",\n  \"GarageArea\",\n  \"LowQualFinSF\",\n  \"BsmtFinSFTwo\",\n  \"OverallCond\",\n  \"MoSold\",\n  \"SecondFlrSF\",\n  \"TotRmsAbvGrd\",\n  \"ScreenPorch\",\n  \"Fireplaces\",\n  \"OverallQual\",\n  \"HalfBath\",\n  \"MasVnrArea\",\n  \"GarageCars\",\n  \"LotFrontage\",\n  \"BsmtFullBath\",\n  \"FullBath\",\n  \"BedroomAbvGr\",\n  \"BsmtHalfBath\",\n];\n\nconst data = new Array(features.length).fill(1).map(() => {\n  const row = {};\n  features.forEach((feature) => (row[feature] = Math.random() * 1000 - 500));\n  return row;\n});\n\nfunction App() {\n  const [selectedRowIndex, setSelectedRowIndex] = useState();\n\n  return (\n    <main>\n      <GlobalExplanations\n        data={data}\n        features={features}\n        selectedRowIndex={selectedRowIndex}\n      />\n      <LocalExplanation\n        data={data}\n        features={features}\n        selectedRowIndex={selectedRowIndex}\n      />\n      <Table\n        features={features}\n        setSelectedRowIndex={setSelectedRowIndex}\n        selectedRowIndex={selectedRowIndex}\n        data={data}\n      />\n    </main>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}