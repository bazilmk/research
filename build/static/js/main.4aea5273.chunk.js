(this.webpackJsonpresearch=this.webpackJsonpresearch||[]).push([[0],{50:function(e,t,a){},52:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(2),i=a(1),r=a.n(i),o=a(40),c=a.n(o),s=(a(50),a(42)),l=(a(51),a(52),a(5)),d=a(6),u=a(9),h=a(8),j=a(12),f=a(3),b=(a(77),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;Object(l.a)(this,a),n=t.call(this,e);var i=e.feature,r=e.data;return n.state={selectedDataPoint:[],dataPoints:r.reduce((function(e,t){var a=t[i],n=e.findIndex((function(e){return e.x>a})),r=n<0?e.length:n;return[].concat(Object(j.a)(e.slice(0,r)),[{x:a,y:a*Math.random()}],Object(j.a)(e.slice(r)))}),[])},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.feature,t=this.state,a=t.dataPoints,i=t.selectedDataPoint;return Object(n.jsxs)("div",{className:"global-explanation",children:[e,Object(n.jsxs)(f.a,{height:200,children:[Object(n.jsx)(f.c,{}),Object(n.jsx)(f.d,{color:"blue",data:a}),Object(n.jsx)(f.e,{color:"orange",data:i}),Object(n.jsx)(f.h,{}),Object(n.jsx)(f.i,{})]})]})}},{key:"componentDidUpdate",value:function(e){var t=this.props.selectedRowIndex;if(e.selectedRowIndex!==t){var a=this.props,n=a.feature,i=a.data,r=this.state.dataPoints;this.setState({selectedDataPoint:[r.find((function(e){return e.x===i[t][n]}))]})}}}]),a}(i.Component)),p=(a(78),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.features,a=e.selectedRowIndex,i=e.data;return Object(n.jsx)("section",{id:"global-explanations",children:t.map((function(e,t){return Object(n.jsx)(b,{feature:e,selectedRowIndex:a,data:i},"chart-".concat(t))}))})}}]),a}(i.Component)),v=a(15),O=a(4),x=(a(79),"#bf212f"),g="#006f3c",m=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={dimensions:{width:0,height:0},displayMode:"resquarify"},n.resetTooltipData=n.resetTooltipData.bind(Object(O.a)(n)),n.updateTooltipData=n.updateTooltipData.bind(Object(O.a)(n)),n.updateSize=n.updateSize.bind(Object(O.a)(n)),n.getPositiveChildren=n.getPositiveChildren.bind(Object(O.a)(n)),n.getNegativeChildren=n.getNegativeChildren.bind(Object(O.a)(n)),n.getChildren=n.getChildren.bind(Object(O.a)(n)),n.getDataForWaterfall=n.getDataForWaterfall.bind(Object(O.a)(n)),n}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.props.selectedRowIndex,a=this.state,i=a.data,r=a.dimensions,o=a.displayMode,c=a.tooltipData;return Object(n.jsx)("section",{id:"treemap-container",ref:this.updateSize,onMouseLeave:this.resetTooltipData,children:void 0===t?"Select a row in the table below":Object(n.jsxs)(n.Fragment,{children:["waterfall"===o?Object(n.jsxs)(f.b,{xType:"ordinal",children:[Object(n.jsx)(f.c,{}),Object(n.jsx)(f.g,{data:i,colorType:"literal",onValueMouseOver:function(t){return e.updateTooltipData({title:t.x,size:t.y-t.y0,color:t.color})}}),Object(n.jsx)(f.h,{title:"Feature",tickLabelAngle:270}),Object(n.jsx)(f.i,{title:"Contribution"})]}):Object(n.jsx)(f.f,Object(v.a)({title:"Test",data:i,mode:o,hideRootNode:!0,colorType:"literal",onLeafMouseOver:function(t){var a=t.data;return e.updateTooltipData(a)},onLeafClick:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return console.log("klikk",[t])},padding:1,margin:0},r)),Object(n.jsx)(w,{data:c})]})})}},{key:"resetTooltipData",value:function(){this.setState({tooltipData:void 0})}},{key:"updateTooltipData",value:function(e){this.setState({tooltipData:e})}},{key:"updateSize",value:function(e){if(null!==e){var t=e.clientWidth,a=e.clientHeight;this.setState({dimensions:{width:t,height:a}})}}},{key:"componentDidUpdate",value:function(e){var t;this.props.selectedRowIndex!==e.selectedRowIndex&&(t="waterfall"===this.state.displayMode?this.getDataForWaterfall():{children:[{title:"Negative",children:this.getPositiveChildren(),color:"none"},{title:"Positive",children:this.getNegativeChildren(),color:"none"}]},this.setState({data:t}))}},{key:"getDataForWaterfall",value:function(){var e=this.props.selectedRowIndex;if(void 0===e)return[];var t=[],a=this.props.data[e];return this.props.features.forEach((function(e){var n=a[e],i={x:e,y:n,color:n<0?x:g},r=t.findIndex((function(e){return e.y>n}));-1===r?t.push(i):t.splice(r,0,i)})),t.reduce((function(e,t,a){return[].concat(Object(j.a)(e),[a>0?Object(v.a)(Object(v.a)({},t),{},{y:e[a-1].y+t.y,y0:e[a-1].y}):Object(v.a)(Object(v.a)({},t),{},{y0:0})])}),[])}},{key:"getPositiveChildren",value:function(){return this.getChildren(!0)}},{key:"getNegativeChildren",value:function(){return this.getChildren(!1)}},{key:"getChildren",value:function(e){var t=this.props.selectedRowIndex;if(void 0===t)return[];var a=[],n=this.props.data[t],i=e?g:x;return this.props.features.forEach((function(t){var r=n[t];(!e&&r<0||e)&&a.push({title:t,size:Math.abs(r),color:i})})),a}},{key:"componentDidMount",value:function(){var e;switch(new URLSearchParams(window.location.search).get("v")){case"b":e="circlePack";break;case"t":e="resquarify";break;default:e="waterfall"}this.setState({displayMode:e})}}]),a}(i.Component),y=(a(80),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;Object(l.a)(this,a),n=t.call(this,e);var i=e.features;return n.state={columns:["ID","Actual","Predicted","Difference"].concat(Object(j.a)(i))},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.selectedRowIndex,i=e.setSelectedRowIndex,r=this.state.columns;return Object(n.jsx)("section",{children:Object(n.jsxs)("table",{children:[Object(n.jsx)("thead",{children:Object(n.jsx)("tr",{children:r.map((function(e,t){return Object(n.jsx)("th",{children:e},"feature-".concat(t))}))})}),Object(n.jsx)("tbody",{children:t.map((function(e,t){return Object(n.jsx)("tr",{className:t===a?"selected":"",onClick:function(){return i(t)},children:r.map((function(t,a){return Object(n.jsx)("td",{children:e[t]},"feature-".concat(a))}))},"row-".concat(t))}))})]})})}}]),a}(i.Component)),w=(a(81),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={position:{left:0,top:0}},n.updatePosition=n.updatePosition.bind(Object(O.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("mousemove",this.updatePosition)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("mousemove",this.updatePosition)}},{key:"render",value:function(){var e=this.state.position,t=e.left,a=e.top,i=this.props.data;return i&&i.size?Object(n.jsxs)("div",{id:"tooltip",style:{left:t,top:a,background:i.color},children:[i.title,Object(n.jsx)("br",{}),i.size]}):Object(n.jsx)(n.Fragment,{})}},{key:"updatePosition",value:function(e){var t=e.clientX,a=e.clientY;this.setState({position:{left:t,top:a}})}}]),a}(i.PureComponent)),S=["LotArea","YearBuilt","GrLivArea","KitchenAbvGr","FirstFlrSF","PoolArea","TotalBsmtSF","BsmtFinSFOne","BsmtUnfSF","GarageYrBlt","EnclosedPorch","WoodDeckSF","MSSubClass","MiscVal","OpenPorchSF","ThreeSsnPorch","YearRemodAdd","YrSold","GarageArea","LowQualFinSF","BsmtFinSFTwo","OverallCond","MoSold","SecondFlrSF","TotRmsAbvGrd","ScreenPorch","Fireplaces","OverallQual","HalfBath","MasVnrArea","GarageCars","LotFrontage","BsmtFullBath","FullBath","BedroomAbvGr","BsmtHalfBath"],k=new Array(S.length).fill(1).map((function(){var e={};return S.forEach((function(t){return e[t]=1e3*Math.random()-500})),e}));var F=function(){var e=Object(i.useState)(),t=Object(s.a)(e,2),a=t[0],r=t[1];return Object(n.jsxs)("main",{children:[Object(n.jsx)(p,{data:k,features:S,selectedRowIndex:a}),Object(n.jsx)(m,{data:k,features:S,selectedRowIndex:a}),Object(n.jsx)(y,{features:S,setSelectedRowIndex:r,selectedRowIndex:a,data:k})]})},C=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,84)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),i(e),r(e),o(e)}))};c.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(F,{})}),document.getElementById("root")),C()}},[[82,1,2]]]);
//# sourceMappingURL=main.4aea5273.chunk.js.map